(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{105:function(t,e,n){"use strict";n.r(e);var a=n(33),c=n(34),r=n(36),i=n(35),o=n(0),s=n(4),u=n(9),l=n(18),b=n.n(l),m=n(10),j=function(){return function(t){t(Object(m.i)()),b.a.get("/contacts").then((function(e){var n=e.data;return t(Object(m.j)(n))})).catch((function(e){return t(Object(m.h)(e.message))}))}},f=function(t){var e=t.name,n=t.number;return function(t){var a={name:e,number:n};t(Object(m.b)()),b.a.post("/contacts",a).then((function(e){var n=e.data;return t(Object(m.c)(n))})).catch((function(e){return t(Object(m.a)(e.message))}))}},h=function(t){return function(e){e(Object(m.f)()),b.a.delete("/contacts/".concat(t)).then((function(){return e(Object(m.g)(t))})).catch((function(t){return e(Object(m.e)(t.message))}))}},d=n(25),p=function(t){return t.contacts.filter},O={getLoading:function(t){return t.contacts.loading},getFilter:p,getVisibleContacts:Object(d.a)([function(t){return t.contacts.items},p],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},g=n(106),x=(n(90),n(95)),C=n.n(x),_=n(104),v=n(88),y=n(1),L=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:"",error:!1},t.handleChange=function(e){var n=e.currentTarget,a=n.name,c=n.value;t.setState(Object(s.a)({},a,c))},t.handleSubmit=function(e){if(e.preventDefault(),t.props.contacts.find((function(t){return t.name.toLowerCase()===e.currentTarget.elements[0].value.toLowerCase()})))return t.setState((function(){return{error:!0}})),void setTimeout((function(){t.setState((function(){return{error:!1}}))}),1500);t.props.onSubmit(t.state),t.reset()},t.reset=function(){t.setState({name:"",number:""})},t}return Object(c.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)(g.a,{in:this.state.error,appear:!0,classNames:"error",timeout:250,unmountOnExit:!0,children:Object(y.jsx)(_.a,{variant:"warning",children:"This contact exists already!"})}),Object(y.jsx)("form",{onSubmit:this.handleSubmit,children:Object(y.jsxs)("div",{className:C.a.form,children:[Object(y.jsxs)("label",{className:C.a.label,htmlFor:this.nameInputId,children:["Name",Object(y.jsx)("input",{className:C.a.input,type:"text",name:"name",value:this.state.name,onChange:this.handleChange,id:this.nameInputId})]}),Object(y.jsxs)("label",{className:C.a.label,htmlFor:this.numberInputId,children:["Number",Object(y.jsx)("input",{className:C.a.input,type:"text",name:"number",value:this.state.number,onChange:this.handleChange,id:this.numberInputId})]}),Object(y.jsx)(v.a,{variant:"secondary",size:"lg",block:!0,type:"submit",children:"Add contact"}),this.props.isLoadingContacts&&Object(y.jsx)("h1",{children:"Loading..."})]})})]})}}]),n}(o.Component);L.defaultProps={type:"text",name:null};var N=Object(u.b)((function(t){return{contacts:O.getVisibleContacts(t),isLoadingContacts:O.getLoading(t)}}),(function(t){return{onSubmit:function(e){return t(f(e))}}}))(L),F=n(98),w=n.n(F),S=n(107),k=Object(u.b)((function(t){return{contacts:O.getVisibleContacts(t)}}),(function(t){return{onDeleteContact:function(e){return t(h(e))}}}))((function(t){var e=t.contacts,n=t.onDeleteContact;return Object(y.jsx)(S.a,{component:"ul",className:w.a.ContactList,children:e.map((function(t){var e=t.id,a=t.name,c=t.number;return Object(y.jsx)(g.a,{timeout:250,classNames:w.a,children:Object(y.jsxs)("li",{className:w.a.ContactList_item,children:[a,": ",c,Object(y.jsx)(v.a,{variant:"danger",size:"sm",onClick:function(){return n(e)},children:"Delete"})]})},e)}))})})),D=n(99),I=n.n(D),A=Object(u.b)((function(t){return{value:O.getFilter(t)}}),(function(t){return{onChangeFilter:function(e){return t(Object(m.d)(e.target.value))}}}))((function(t){var e=t.value,n=t.onChangeFilter;return Object(y.jsx)("div",{className:I.a.form,children:Object(y.jsxs)("label",{className:I.a.label,children:["Find contacts by name",Object(y.jsx)("input",{className:I.a.input,type:"text",value:e,onChange:n})]})})})),z=n(38),E={bar:{width:400,marginLeft:"auto",marginRight:"auto",padding:"20 30",borderColor:"rgb(219, 216, 216)",boxShadow:"0 4 4 rgba(0, 0, 0, 0.25)"},title:{fontSize:"42",fontWeight:"700",margin:"0 0 15 0",color:"#007bff"}},T=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(y.jsx)(z.a,{children:Object(y.jsxs)("div",{style:E.bar,children:[Object(y.jsx)(g.a,{in:!0,appear:!0,classNames:"fade",timeout:500,children:Object(y.jsx)("h1",{style:E.title,children:"Phonebook"})}),Object(y.jsx)(N,{}),Object(y.jsx)(g.a,{in:!0,classNames:"fade",timeout:500,unmountOnExit:!0,children:Object(y.jsx)(A,{})}),Object(y.jsx)(g.a,{in:!0,classNames:"fade",timeout:250,unmountOnExit:!0,children:Object(y.jsx)(k,{})})]})})}}]),n}(o.Component);e.default=Object(u.b)(null,(function(t){return{fetchContacts:function(){return t(j())}}}))(T)},90:function(t,e,n){},95:function(t,e,n){t.exports={label:"ContactForm_label__2tzlt",form:"ContactForm_form__16-5k",input:"ContactForm_input__2sKtE"}},98:function(t,e,n){t.exports={ContactList:"Contacts_ContactList__3Qy1o",ContactList_item:"Contacts_ContactList_item__31-UK",button:"Contacts_button__2DVzJ",enter:"Contacts_enter__2Syfd",enterActive:"Contacts_enterActive__1pQvL",exit:"Contacts_exit__VY6yQ",exitActive:"Contacts_exitActive__68LJC"}},99:function(t,e,n){t.exports={label:"Filter_label__1GpKQ",input:"Filter_input__3EeDZ",form:"Filter_form__1DTAq"}}}]);
//# sourceMappingURL=3.fbb587a7.chunk.js.map